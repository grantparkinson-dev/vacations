<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate PWA Icons</title>
  <style>
    body { font-family: sans-serif; padding: 40px; text-align: center; background: #f5f5f5; }
    canvas { border: 1px solid #ccc; margin: 10px; }
    a { display: inline-block; margin: 10px; padding: 12px 24px; background: #c8a2f8; color: #fff; text-decoration: none; border-radius: 8px; }
    h1 { color: #6a3860; }
  </style>
</head>
<body>
  <h1>PWA Icon Generator</h1>
  <p>Click the links below to download the PNG icons, then delete this file.</p>
  <div id="canvases"></div>
  <div id="links"></div>
  <script>
    const sizes = [192, 512];
    const svgUrl = 'icons/icon.svg';

    fetch(svgUrl).then(r => r.text()).then(svgText => {
      const blob = new Blob([svgText], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      const img = new Image();
      img.onload = () => {
        sizes.forEach(size => {
          const canvas = document.createElement('canvas');
          canvas.width = size;
          canvas.height = size;
          const ctx = canvas.getContext('2d');
          ctx.drawImage(img, 0, 0, size, size);
          document.getElementById('canvases').appendChild(canvas);

          canvas.toBlob(pngBlob => {
            const a = document.createElement('a');
            a.href = URL.createObjectURL(pngBlob);
            a.download = `icon-${size}.png`;
            a.textContent = `Download icon-${size}.png`;
            document.getElementById('links').appendChild(a);
          }, 'image/png');
        });
        URL.revokeObjectURL(url);
      };
      img.src = url;
    });
  </script>
</body>
</html>
